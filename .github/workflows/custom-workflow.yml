name: Use Private Action

on:
  push:
    branches:
      - "*"
  pull_request:
    branches:
      - "*"
      
env:
  SONAR_TOKEN: squ_92ce500b4383353ef21219293c07ffff35128a09
  SONAR_HOST_URL: http://54.73.70.164:9000

jobs:
  my-job:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout private repository
        uses: orginfratec/action_file/checkout@main
        with:
          repository: orginfratec/action_file/globalaction
          token: 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
          ref: main
          path: action_file/globalaction

      - name: Use action from private repository
        uses: ./action_file/globalaction
        with:
          sonar-token: ${{ env.SONAR_TOKEN }}
          sonar-host-url: ${{ env.SONAR_HOST_URL }}
        
      - name: Checkout private repository
        uses: orginfratec/action_file/checkout@main
        with:
          repository: orginfratec/action_file/globalaction
          token: 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
          ref: main
          path: action_file/globalaction
